 <style>
#label_templates .ui-selecting { background: #FECA40; }
#label_templates .ui-selected { background: #F39814; color: white; }
#label_templates div:hover { background: #F39814; color: white; }
</style>

<%
 paginate @label_templates
%>
<h3><%= t(:pick_an_image)%></h3><br />
<%= f.hidden_field :label_template_id, :id => 'label_template_id' %>
<%= f.hidden_field :product_id, :id => 'product_id', :hidden => true, :value => @product.id.to_s %>
<%= f.hidden_field :label_image_remote_url, :id => 'label_image_url' %>
<div id="label_templates" class="inline product-listing" data-hook>
	<% @label_templates.each do |label_template| %>
	<div id="label_template_<%= label_template.id %>" class="columns three center-align ui-state-default <%= cycle("alpha", "secondary", "", "omega secondary", :name => "classes") %>"  style = "position:relative" data-hook="label_templates_list_item" itemscope itemtype="http://schema.org/label_template">
		<%= med_label_image(label_template) %>
		<%= label_template.name %>
		<%= hidden_field_tag 'label_template_'+label_template.id.to_s, label_template.id.to_s %>
		<%= hidden_field_tag 'label_template_url_'+label_template.id.to_s, label_template.label_image.url %>
	</div>
	<% end %>
	<% reset_cycle("classes") %>
</div>
<%= paginate @label_templates %>

<script type="text/javascript">
		$("#label_templates").selectable( { selected: function (event, ui) {
				// set the id
				var id = ui.selected.childNodes[3].value
				var input = document.getElementById("label_template_id");
				input.value = id;
				
				// set the url
				var url = ui.selected.childNodes[5].value
				var input = document.getElementById("label_image_url");
				input.value = url;
				
				// update the selected image
				var div = document.getElementById("selected_template");
				div.childNodes[1].src = ui.selected.childNodes[1].src;
			}
		});
</script>